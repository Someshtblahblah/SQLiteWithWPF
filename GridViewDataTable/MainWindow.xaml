<UserControl x:Class="GridViewDataTable.MainWindow"
		xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation"
        xmlns:behaviors="clr-namespace:GridViewDataTable.Extensions"
        xmlns:my="clr-namespace:GridViewDataTable"
        Height="700" Width="700"
             >
    <UserControl.DataContext>
        <my:MyViewModel />
    </UserControl.DataContext>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition  />
        </Grid.RowDefinitions>
        <StackPanel Orientation="Horizontal" Margin="0,0,0,10" Grid.Row="0">
            <Button Content="Move Up"
            Command="{Binding MoveUpCommand}" />
            <Button Content="Move Down"
            Command="{Binding MoveDownCommand}" />
            <Button Content="Delete"
        Command="{Binding DeleteTaskCommand}"
        IsEnabled="{Binding SelectedTask}" />
            <Button Content="Delete Selected"
        Command="{Binding DeleteSelectedTasksCommand}" />
        </StackPanel>
        <telerik:RadGridView x:Name="TasksGrid"
                             ItemsSource="{Binding TasksView}"
behaviors:RepositoryGridViewSelectionBehavior.BindableSelectedItems="{Binding SelectedTasks}"
                             SelectionChanged="TasksGrid_SelectionChanged"
                             AutoGenerateColumns="False"
                             SelectionMode="Extended"
                             GroupRenderMode="Flat" 
                             Margin="5"
                             Grid.Row="1"
                             RowIndicatorVisibility="Collapsed"
                             ShowGroupPanel="False"
                             HorizontalAlignment="Stretch"
                             HorizontalContentAlignment="Stretch"
                             Background="Transparent"
                             BorderBrush="Transparent"
                             VirtualizingPanel.IsVirtualizing="True"
                             VirtualizingPanel.IsContainerVirtualizable="True"
                             ScrollViewer.CanContentScroll="False"
                             ScrollViewer.HorizontalScrollBarVisibility="Auto"
                             ScrollViewer.VerticalScrollBarVisibility="Visible"
                             CanUserSortColumns="True"
                             CanUserFreezeColumns="False"
                             >


            <telerik:RadGridView.Columns>
                <telerik:GridViewDataColumn DataMemberBinding="{Binding TaskOrder}"/>
                <telerik:GridViewColumn Header="Status">
                    <telerik:GridViewColumn.CellTemplate>
                        <DataTemplate>
                            <Button Content="Delete"
                            Command="{Binding DataContext.DeleteSelectedTaskCommand, RelativeSource={RelativeSource AncestorType={x:Type telerik:RadGridView}}}"
                            CommandParameter="{Binding}" />
                        </DataTemplate>
                    </telerik:GridViewColumn.CellTemplate>
                </telerik:GridViewColumn>
                <telerik:GridViewDataColumn DataMemberBinding="{Binding Source}"/>
                <telerik:GridViewDataColumn DataMemberBinding="{Binding Target}"/>
                <telerik:GridViewDataColumn DataMemberBinding="{Binding CreationTime}"/>
                <telerik:GridViewDataColumn DataMemberBinding="{Binding CreatedBy}"/>
                <telerik:GridViewDataColumn DataMemberBinding="{Binding Metadata}"/>
                <telerik:GridViewDataColumn DataMemberBinding="{Binding Settings}"/>
            </telerik:RadGridView.Columns>
        </telerik:RadGridView>

    </Grid>
</UserControl>
